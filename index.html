<!DOCTYPE html>
<html lang="pl" class="scroll-smooth overflow-x-hidden">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Portfolio | Grzegorz "Graeg" Wojtalczyk</title>
    <meta name="description" content="Portfolio Grzegorza Wojtalczyka - 3D Printing, XR & Space Tech">
    <link rel="icon" type="image/png" href="logo2.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { 
                        sans: ['Space Grotesk', 'sans-serif'],
                        mono: ['Space Mono', 'monospace'] 
                    },
                    colors: { scarlet: '#DC143C', darkred: '#8B0000', void: '#000000' },
                    letterSpacing: { 'spectral': '0.2em' },
                    animation: { 'spin-slow': 'spin 60s linear infinite', 'pulse-slow': 'pulse 8s cubic-bezier(0.4, 0, 0.6, 1) infinite' }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #141414; 
            overflow-x: hidden;
            width: 100vw;
            color: #e5e5e5;
            cursor: crosshair;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        /* --- LIGHT MODE --- */
        body.light-mode { background-color: #f3f4f6; color: #111827; }
        body.light-mode .glass-dark { background: rgba(255, 255, 255, 0.75); border-color: rgba(220, 20, 60, 0.2); box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05); color: #000; }
        body.light-mode .text-white { color: #111 !important; }
        body.light-mode .text-gray-400 { color: #4b5563 !important; }
        body.light-mode .galaxy-container { opacity: 0.1; filter: invert(1); }
        body.light-mode #canvas-container { opacity: 0.8; filter: brightness(0.8); }

        /* --- UI UTILS --- */
        .glass-dark { background: rgba(30, 30, 30, 0.85); backdrop-filter: blur(12px); border: 1px solid rgba(220, 20, 60, 0.3); box-shadow: 0 0 15px rgba(220, 20, 60, 0.05); transition: all 0.3s ease; }
        .glass-dark:hover { border-color: rgba(220, 20, 60, 0.8); }
        .text-glow { text-shadow: 0 0 15px rgba(220, 20, 60, 0.6); }

        /* SCROLLBAR & ANIMATIONS */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #141414; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #DC143C; }

        .galaxy-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -10; pointer-events: none; }
        .tech-grid-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -5; pointer-events: none; background-image: linear-gradient(rgba(220, 20, 60, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(220, 20, 60, 0.1) 1px, transparent 1px); background-size: 50px 50px; mask-image: radial-gradient(circle 250px at var(--x, 50%) var(--y, 50%), black 0%, transparent 100%); }

        .scanlines { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.2)); background-size: 100% 4px; z-index: 9999; pointer-events: none; opacity: 0.3; }

        .hover-glitch:hover { animation: glitch-anim 0.3s infinite; color: #DC143C !important; }
        @keyframes glitch-anim { 0% { transform: translate(0) } 20% { transform: translate(-2px, 2px) } 40% { transform: translate(-2px, -2px) } 100% { transform: translate(0) } }

        /* AUDIO PLAYER STYLES */
        .audio-visualizer span { display: inline-block; width: 3px; background: #DC143C; margin: 0 1px; animation: wave 1s infinite ease-in-out; }
        .audio-visualizer span:nth-child(2) { animation-delay: 0.2s; }
        .audio-visualizer span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes wave { 0%, 100% { height: 5px; } 50% { height: 15px; } }
        .playing .audio-visualizer span { animation-play-state: running; }
        .paused .audio-visualizer span { animation-play-state: paused; height: 3px; }

        #canvas-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.6; }
    </style>
</head>
<body class="antialiased selection:bg-scarlet selection:text-white relative">

    <div class="scanlines"></div>

    <div class="fixed top-8 left-8 z-50 hidden md:flex flex-col gap-1 items-start select-none pointer-events-none mix-blend-difference">
        <div class="flex items-center gap-2">
            <div class="w-1.5 h-1.5 bg-scarlet animate-pulse"></div>
            <span class="text-[9px] text-scarlet font-bold tracking-[0.3em] font-mono uppercase">System Runtime</span>
        </div>
        <div id="mission-timer" class="text-sm text-gray-300 font-mono tracking-widest font-bold">T+ 000:00:00:00</div>
    </div>

    <style>
    #js-mini-player {
        position: fixed;
        top: 15px;
        right: 15px;
        width: 320px;
        height: 90px;
        z-index: 9999;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 8px 24px rgba(0,0,0,0.5);
        background: #000;
        border: 1px solid #333;
    }
    @media (max-width: 480px) {
        #js-mini-player {
            width: 250px;
            height: 70px;
            top: 10px;
            right: 10px;
        }
    }
</style>

<div id="js-mini-player">
    <iframe 
        width="100%" 
        height="100%" 
        src="https://www.youtube.com/embed/AA_jatsA8JA?rel=0&showinfo=0&autohide=1" 
        title="Jurassic Park Theme" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
    </iframe>
</div>
    
    <div class="fixed top-8 right-8 z-50 hidden md:flex items-center gap-4">
        <div id="mini-player" class="glass-dark px-4 py-2 rounded-full border border-scarlet/30 flex items-center gap-3 group transition-all duration-500 hover:w-64 w-14 overflow-hidden h-12">
            <div class="audio-visualizer flex items-end h-4 flex-shrink-0">
                <span></span><span></span><span></span>
            </div>
            
            <div class="flex flex-col min-w-[150px] opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <span class="text-[10px] font-bold text-white uppercase tracking-tighter truncate">Jurassic Park Theme</span>
                <span class="text-[8px] text-gray-500 uppercase font-mono">John Williams</span>
            </div>

            <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <button id="play-pause-btn" class="text-white hover:text-scarlet transition">
                    <svg id="play-icon" class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                    <svg id="pause-icon" class="w-4 h-4 hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                </button>
                <button id="mute-btn" class="text-white hover:text-scarlet transition">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
                </button>
            </div>
        </div>
        <div id="youtube-player" class="hidden"></div>
    </div>

    <div id="ar-modal" class="hidden fixed inset-0 z-[100] bg-black/90 flex flex-col items-center justify-center p-4">
        <button onclick="toggleARModal()" class="absolute top-6 right-6 z-[110] text-white hover:text-scarlet transition p-2 border border-white/20 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
        </button>
        <model-viewer src="https://modelviewer.dev/shared-assets/models/Astronaut.glb" ar ar-modes="webxr scene-viewer quick-look" camera-controls auto-rotate class="w-full h-full"></model-viewer>
    </div>

    <div class="tech-grid-overlay" id="flashlight"></div>
    <div class="galaxy-container"><div class="spiral-arms"></div><div class="galaxy-core"></div></div>

    <nav class="fixed top-6 left-0 w-full z-50 flex justify-center px-4">
        <div class="glass-dark rounded-full border border-white/10 px-6 py-3 flex items-center gap-6">
            <img src="logo2.png" alt="Logo" class="h-8 w-auto">
            <div class="hidden md:flex gap-5 text-[10px] font-bold uppercase tracking-widest text-gray-400">
                <a href="#o-mnie" class="hover:text-white transition">O mnie</a>
                <a href="#doswiadczenie" class="hover:text-white transition">Do≈õwiadczenie</a>
                <a href="#projekty" class="hover:text-white transition">Projekty</a>
            </div>
        </div>
    </nav>

    <section class="min-h-screen flex flex-col justify-center items-center text-center px-4 relative">
        <div id="canvas-container"></div>
        <h1 class="text-5xl md:text-7xl font-bold text-white uppercase tracking-tighter">GRAEG <span class="text-scarlet">SYSTEMS</span></h1>
    </section>

    <div class="fixed bottom-6 right-6 z-[60]">
        <button id="settings-btn" class="glass-dark p-4 rounded-full text-white bg-black group">
            <svg class="w-6 h-6 group-hover:rotate-90 transition duration-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.157.92c.447.1.879.293 1.28.567l.882-.369c.532-.224 1.15.066 1.35.61l.546 1.363c.201.543-.07 1.155-.584 1.383l-.936.417c.05.474.05.955 0 1.428l.936.417c.513.228.785.84.584 1.383l-.546 1.363c-.2.544-.818.834-1.35.61l-.882.369a6.29 6.29 0 0 1-1.28.567l-.157.92c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.02-.398-1.11-.94l-.157-.92a6.293 6.293 0 0 1-1.28-.567l-.882.369c-.532.224-1.15-.066-1.35-.61l-.546-1.363c-.2.544-.818.834-1.35.61l-.546-1.363c-.201-.543.07-1.155.584-1.383l.936-.417a6.415 6.415 0 0 1 0-1.428l-.936-.417c-.513-.228-.785-.84-.584-1.383l.546-1.363c.2-.544.818-.834 1.35-.61l.882.369c.401-.274.833-.467 1.28-.567l.157-.92Z" /></svg>
        </button>
        <div id="settings-panel" class="hidden absolute bottom-16 right-0 w-64 glass-dark p-5 rounded-lg flex-col gap-4">
            <div class="flex justify-between items-center mt-2">
                <span class="text-xs font-bold uppercase text-gray-400">Tryb Jasny (Lab)</span>
                <input type="checkbox" id="theme-toggle" class="cursor-pointer">
            </div>
            <button onclick="toggleARModal()" class="w-full text-left text-xs text-white p-2 border border-white/10 uppercase font-bold">AR Viewer</button>
        </div>
    </div>

    <script>
        // API YOUTUBE PLAYER
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        const playPauseBtn = document.getElementById('play-pause-btn');
        const muteBtn = document.getElementById('mute-btn');
        const miniPlayer = document.getElementById('mini-player');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '0',
                width: '0',
                videoId: 'AA_jatsA8JA', // Theme From Jurassic Park
                playerVars: { 'autoplay': 0, 'controls': 0, 'loop': 1, 'playlist': 'AA_jatsA8JA' },
                events: { 'onStateChange': onPlayerStateChange }
            });
        }

        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.PLAYING) {
                miniPlayer.classList.add('playing');
                miniPlayer.classList.remove('paused');
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            } else {
                miniPlayer.classList.remove('playing');
                miniPlayer.classList.add('paused');
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            }
        }

        playPauseBtn.addEventListener('click', () => {
            const state = player.getPlayerState();
            if (state == YT.PlayerState.PLAYING) { player.pauseVideo(); } 
            else { player.playVideo(); }
        });

        muteBtn.addEventListener('click', () => {
            if (player.isMuted()) { player.unMute(); } 
            else { player.mute(); }
        });

        // MISSION TIMER
        const startDate = new Date('2025-12-20T03:00:00');
        function updateMissionTimer() {
            const diff = new Date() - startDate;
            const d = Math.floor(diff / 86400000).toString().padStart(3, '0');
            const h = Math.floor((diff / 3600000) % 24).toString().padStart(2, '0');
            const m = Math.floor((diff / 60000) % 60).toString().padStart(2, '0');
            const s = Math.floor((diff / 1000) % 60).toString().padStart(2, '0');
            document.getElementById('mission-timer').innerText = `T+ ${d}:${h}:${m}:${s}`;
        }
        setInterval(updateMissionTimer, 1000);

        // LIGHT MODE & SETTINGS
        const settingsBtn = document.getElementById('settings-btn');
        const settingsPanel = document.getElementById('settings-panel');
        settingsBtn.addEventListener('click', () => settingsPanel.classList.toggle('hidden'));
        document.getElementById('theme-toggle').addEventListener('change', () => document.body.classList.toggle('light-mode'));

        function toggleARModal() { document.getElementById('ar-modal').classList.toggle('hidden'); }

        // 3D SCENE (Planet)
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-container').appendChild(renderer.domElement);
        const planet = new THREE.Mesh(new THREE.IcosahedronGeometry(2, 2), new THREE.MeshBasicMaterial({ color: 0xDC143C, wireframe: true, transparent: true, opacity: 0.3 }));
        scene.add(planet); camera.position.z = 5;
        function animate() { requestAnimationFrame(animate); planet.rotation.y += 0.002; renderer.render(scene, camera); }
        animate();
    </script>
</body>
</html>
